+# Дипломный проект 

## Севис заказа товаров

### Цель проекта

Создание и настроика проекта по автоматизации закупок в розничной сети, проработка модели данных, импорт товаров, API views.

Вам нужно:
разработать backend для сервиса заказа товаров,
усовершенствовать навыки работы с Django ORM через проработку моделей товаров и связанных сущностей,
реализовать импорт и экспорт товаров,
внедрить систему управления заказами,
оптимизировать методы с использованием асинхронности,
освоить работу со сторонними библиотеками и фреймворками,
подготовить документацию к проекту,
использовать AI инструменты для решения задач.


## Техническое описание проекта

### Структура каталога проекта

- README.md
- main
- shop
- manage.py
- requirements.txt
  
### Директория main содержит следующие модули
#### Модуль models.py
> содержит скрипт, осущеситвляющий создание таблиц для базы данных
#### Модуль permissions.py
> Модуль содержит классы, определяющие права доступа к ресурсу
#### Модуль serializers.py
> Данный модуль отвечает за сериализацию и десериализацию данных 
#### Модуль views.py
> Модуль содержит классы представлений для работы с ресурсом 

### Модуль requirements.txt
> Содержит перечень всех модулей и пакетов, необходимых для корректной работы программы

### Модуль README.md
> Содержит описание проекта. 
> Описывает порядок подготовки к работе и использования программы

## Подготовка к работе и порядок работы с программой

### Подготовка к работе
- создать виртуальное окружение
- усиановить зависимости
- запустить программу
  
### порядок работы с программой

> Логика работы программы подразумевает работу с ресурсом только от двух возможных видов пользователей : покупатель (BUYER) и поставщик товара (SUPPLIER)
> Вся работа с ресурсом предусмотрена только для авторизованных пользователей (поэтому во всех запросах необходимо указывать тип авторизации Authorization: Token ... )

#### порядок работы с программой для покупателей
> Создание, удаление пользователя 
- создать пользователя и токен для него
- установить созданному пользователю тип : BUYER (POST http://127.0.0.1:8000/userwork/  в запросе необходимо передать один обязательный параметр {"user_type": "BUYER"} )
- при необходимости возможно просмотреть данные аккаунта (GET http://127.0.0.1:8000/userwork/)
- при необходимости возможно удалить аккаунт (DELETE http://127.0.0.1:8000/userwork/)

> Покупатель может получать список доступных товаров магазина (GET http://127.0.0.1:8000/productlist/)

> для оформления заказа необходимо :
- сначало можно проверить наличие  пустого заказа (GET http://127.0.0.1:8000/order/ )
- создать пустой заказ (пустую корзину), если его нет (POST  http://127.0.0.1:8000/order/   необходимо передать один обязательный параметр {"adress": ...}; статус заказа при этом автоматически проставляется "AWAITS"; Логикой программы при этом предусмотрено наличие только одного заказа в статусе "AWAITS" у каждого покупателя.)
- посмотреть список товаров в заказе (GET http://127.0.0.1:8000/basketlist/   - на данном этапе он будет пуст)
- добавить товары в данный заказ (POST http://127.0.0.1:8000/basket/ - небходимо передать два обязательных параметра {"product": ..., "quantity": ...}. ID заказа при этом подставится автоматически. Добавить товар при отсутсвии заказа в статусе "AWAITS" не возможно. При добавлении товара в заказ автоматически происходит валидация данных : проверка на наличие необходимого количества остатков товара в магазине; исключение добавления двух одинаковых товаров в заказ ; корректировка остатков товара на складе
)
- оформление заказа (PATCH http://127.0.0.1:8000/order/3/ необходимо передать id заказа и один обязательный параметр {"status": "ORDERED"}    id заказа можно узнать при помощи GET http://127.0.0.1:8000/order/)  После оформления  заказа работа с ним уже не возможна

> просмотр оформленных заказов (GET http://127.0.0.1:8000/orderlist/)

#### порядок работы с программой для Поставщиков
> Создание, удаление пользователя 
- создать пользователя и токен для него
- установить созданному пользователю тип : SUPPLIER (POST http://127.0.0.1:8000/userwork/  в запросе необходимо передать один обязательный параметр {"user_type": "SUPPLIER"} )
- добавить запись в таблицу Supplier (POST http://127.0.0.1:8000/supplier/     При этом поле activity будет автоматически установлено как OPEN)
- можно изменить поле activity (PATCH    http://127.0.0.1:8000/activity/1/   необходимо передать id пользователя и один обязательный параметр {"activity": "CLOSED"}  .   id  можно узнать при помощи GET http://127.0.0.1:8000/userwork/)
- при необходимости возможно просмотреть данные аккаунта (GET http://127.0.0.1:8000/userwork/)
- при необходимости возможно удалить аккаунт (DELETE http://127.0.0.1:8000/userwork/)

> Работа поставщика с товарами
- поставщик может получать список всех товаров (ET http://127.0.0.1:8000/product/)
- добавлять товар (POST http://127.0.0.1:8000/product/  необходимо указать следующие обязательные трибуты {"name": "socks", "description": ... , "price": ... , "balance": ... } )
- изменять данные о товаре (PATCH  http://127.0.0.1:8000/product/13/   необходимо передать id товара)
- удалять товар (DELETE http://127.0.0.1:8000/product/13/)
  
> поставщик может посмотреть список своих товаров, находящихся в оформленных казах у покупателей (GET http://127.0.0.1:8000/basketlistsupplier/)
